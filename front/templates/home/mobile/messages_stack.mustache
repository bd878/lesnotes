{{#stack}}
	<details class="flex flex-col mb-4 small:mb-2 last:mb-0 min-w-full max-w-md" open>
		<summary>
			{{#message}}
				{{#ID}}
					<a target="_self" href="{{threadHref}}" class="mb-2 underline">
				{{/ID}}
				{{^ID}}
					<a target="_self" href="{{rootThreadHref}}" class="mb-2 underline">
				{{/ID}}
					{{#title}}
						/{{title}}
					{{/title}}
					{{^title}}
						{{#text}}
							/{{text}}
						{{/text}}
						{{^text}}
							/
						{{/text}}
					{{/title}}
				</a>
			{{/message}}
		</summary>

		<div class="overflow-y-auto">
			<ul class="flex flex-col">
				{{#messages}}
					<li draggable="true" class="grow-1 flex flex-row justify-between whitespace-nowrap">
						{{#isCenter}}
							{{#isSelected}}
								<a href="{{messageHref}}" target="_self" class="flex flex-row justify-between overflow-hidden bg-gray-300 dark:bg-cyan-500 dark:text-white cursor-pointer text-left w-full" data-message-id="{{ID}}">
							{{/isSelected}}
							{{^isSelected}}
								<a href="{{messageHref}}" target="_self" class="dark:bg-cyan-700 dark:text-white bg-blue-100  flex flex-row justify-between overflow-hidden bg-blue-100 cursor-pointer text-left w-full" data-message-id="{{ID}}">
							{{/isSelected}}
						{{/isCenter}}
						{{^isCenter}}
							{{#isSelected}}
								<a href="{{messageHref}}" target="_self" class="flex flex-row justify-between overflow-hidden dark:bg-slate-600 dark:text-white bg-gray-300 cursor-pointer text-left w-full" data-message-id="{{ID}}">
							{{/isSelected}}
							{{^isSelected}}
								<a href="{{messageHref}}" target="_self" class="flex flex-row justify-between overflow-hidden  cursor-pointer text-left w-full" data-message-id="{{ID}}">
							{{/isSelected}}
						{{/isCenter}}
								<div class="overflow-hidden text-ellipsis mr-2" data-message-id="{{ID}}">
									{{#title}}
										{{title}}
									{{/title}}
									{{^title}}
										{{text}}
									{{/title}}
								</div>
						</a>

						{{#isCenter}}
							<a href="{{messageThreadHref}}" target="_self" class="pl-2 dark:bg-blue-100 dark:bg-cyan-700 dark:text-white bg-blue-100 cursor-pointer text-end" data-thread-id="{{ID}}">{{count}} > </a>
						{{/isCenter}}
						{{^isCenter}}
							<a href="{{messageThreadHref}}" target="_self" class="pl-2 cursor-pointer text-end" data-thread-id="{{ID}}">{{count}} > </a>
						{{/isCenter}}
					</li>
				{{/messages}}
				{{^messages}}
					{{#message}}
						<li class="text-gray-600 italic">{{noMessagesText}}</li>
					{{/message}}
					{{^message}}
						<li class="text-gray-600 italic">{{newMessageText}}</li>
					{{/message}}
				{{/messages}}
			</ul>
		</div>

		{{#paging}}
			<div class="flex flex-row mt-2">
				{{^isLastPage}}
					<a href="{{prevPageHref}}" target="_self" data-offset="{{offset}}" data-limit="{{limit}}" data-thread-id="{{ID}}" data-direction="prev" class="flex justify-center bg-gray-300 dark:bg-slate-600 grow mr-2 last:mr-0 cursor-pointer"><-</a>
				{{/isLastPage}}

				{{^isFirstPage}}
					<a href="{{nextPageHref}}" target="_self" data-offset="{{offset}}" data-limit="{{limit}}" data-thread-id="{{ID}}" data-direction="next" class="flex justify-center bg-gray-300 dark:bg-slate-600 grow cursor-pointer">-></a>
				{{/isFirstPage}}
			</div>
		{{/paging}}
	</details>
{{/stack}}
{{^stack}}
	<div class="grow"></div>
{{/stack}}