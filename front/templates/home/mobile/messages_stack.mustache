<div class="flex flex-col w-full h-full overflow-x-hidden">
	<div class="flex flex-col overflow-x-auto h-full grow">
		{{#stack}}
			<div class="flex flex-col mb-4 small:mb-2 last:mb-0 min-w-full max-w-md" open>
				<div class="mb-2">
					{{#isClose}}
						<a href="{{closeHref}}" target="_self" class="mr-2 dark:hover:text-white hover:text-blue-600">▸</a>
					{{/isClose}}
					{{^isClose}}
						<a href="{{openHref}}" target="_self" class="mr-2 dark:hover:text-white hover:text-blue-600">▾</a>
					{{/isClose}}

					<span class="inline-flex justify-between w-[calc(100%-25px)] large:w-[calc(100%-35px)] small:w-[calc(100%-25px)]">
						{{#message}}
							{{#ID}}
								<a target="_self" href="{{viewThreadHref}}" class="overflow-hidden text-ellipsis underline">
							{{/ID}}
							{{^ID}}
								<a target="_self" href="{{rootThreadHref}}" class="overflow-hidden text-ellipsis underline">
							{{/ID}}
								{{#title}}
									/{{title}}
								{{/title}}
								{{^title}}
									{{#text}}
										/{{text}}
									{{/text}}
									{{^text}}
										/
									{{/text}}
								{{/title}}
							</a>
						{{/message}}

						{{#thread}}
							{{^isRoot}}
								<a target="_self" href="{{closeThreadHref}}" class="dark:hover:text-white hover:text-blue-600 cursor-pointer underline">X</a>
							{{/isRoot}}
						{{/thread}}
					</span>
				</div>

				{{^isClose}}
					<div class="overflow-y-auto">
						<ul class="flex flex-col">
							{{#messages}}
								<li draggable="true" class="grow-1 flex flex-row justify-between whitespace-nowrap">
									{{#isCenter}}
										{{#isSelected}}
											<a href="{{messageHref}}" target="_self" class="flex flex-row justify-between overflow-hidden bg-gray-300 dark:bg-cyan-500 dark:text-white cursor-pointer text-left w-full" data-message-id="{{ID}}">
										{{/isSelected}}
										{{^isSelected}}
											<a href="{{messageHref}}" target="_self" class="dark:bg-cyan-700 dark:text-white bg-blue-100  flex flex-row justify-between overflow-hidden bg-blue-100 cursor-pointer text-left w-full" data-message-id="{{ID}}">
										{{/isSelected}}
									{{/isCenter}}
									{{^isCenter}}
										{{#isSelected}}
											<a href="{{messageHref}}" target="_self" class="flex flex-row justify-between overflow-hidden dark:bg-slate-600 dark:text-white bg-gray-300 cursor-pointer text-left w-full" data-message-id="{{ID}}">
										{{/isSelected}}
										{{^isSelected}}
											<a href="{{messageHref}}" target="_self" class="flex flex-row justify-between overflow-hidden  cursor-pointer text-left w-full" data-message-id="{{ID}}">
										{{/isSelected}}
									{{/isCenter}}
											<div class="overflow-hidden text-ellipsis mr-2" data-message-id="{{ID}}">
												{{#title}}
													{{title}}
												{{/title}}
												{{^title}}
													{{text}}
												{{/title}}
											</div>
									</a>

									{{#isCenter}}
										<a href="{{messageThreadHref}}" target="_self" class="pl-2 dark:bg-blue-100 dark:bg-cyan-700 dark:text-white bg-blue-100 cursor-pointer text-end">{{count}} > </a>
									{{/isCenter}}
									{{^isCenter}}
										<a href="{{messageThreadHref}}" target="_self" class="pl-2 cursor-pointer text-end">{{count}} > </a>
									{{/isCenter}}
								</li>
							{{/messages}}
							{{^messages}}
								{{#message}}
									<li class="text-gray-600 italic">{{noMessagesText}}</li>
								{{/message}}
								{{^message}}
									<li class="text-gray-600 italic">{{newMessageText}}</li>
								{{/message}}
							{{/messages}}
						</ul>
					</div>

					<div class="flex flex-row mt-2">
						{{^isLastPage}}
							<a href="{{prevPageHref}}" target="_self" class="flex justify-center bg-gray-300 dark:bg-slate-600 grow mr-2 last:mr-0 cursor-pointer"><-</a>
						{{/isLastPage}}

						{{^isFirstPage}}
							<a href="{{nextPageHref}}" target="_self" class="flex justify-center bg-gray-300 dark:bg-slate-600 grow cursor-pointer">-></a>
						{{/isFirstPage}}
					</div>
				{{/isClose}}
			</div>
		{{/stack}}
	</div>
</div>