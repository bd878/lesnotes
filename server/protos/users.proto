syntax = "proto3";

package users.v1;

import "protos/distributed.proto";

option go_package = "github.com/bd878/gallery/server/api";

service Users {
	rpc CreateUser(CreateUserRequest) returns (CreateUserResponse);
	rpc FindUser(FindUserRequest) returns (User);
	rpc GetUser(GetUserRequest) returns (User);
	rpc UpdateUser(UpdateUserRequest) returns (UpdateUserResponse);
	rpc DeleteUser(DeleteUserRequest) returns (DeleteUserResponse);
	rpc GetServers(GetServersRequest) returns (GetServersResponse) {}
}

message User {
	int64     id               = 1;
	string    login            = 2;
	string    theme            = 5;
	string    lang             = 6;
	int32     font_size        = 7;
	string    hashed_password  = 8;
}

message GetUserRequest {
	int64     id = 1;
}

message FindUserRequest {
	string login = 1;
}

message CreateUserRequest {
	int64     id      = 1;
	string    login   = 2;
	string    password = 3;
	string    theme   = 4;
	string    lang    = 5;
	int32     font_size = 6;
}

message CreateUserResponse {
}

message DeleteUserRequest {
	int64   id  = 1;
}

message DeleteUserResponse {}

message UpdateUserRequest {
	int64   id    = 1;
	string  login = 2;
	string  theme = 3;
	string  lang  = 4;
	int32   font_size = 5;
}

message UpdateUserResponse {}
