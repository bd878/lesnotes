syntax = "proto3";

package users.v1;

option go_package = "github.com/bd878/gallery/server/api";

service Users {
	rpc GetUser(GetUserRequest) returns (User);
	rpc FindUser(FindUserRequest) returns (User);
}

message User {
	int64     id = 1;
	string    login = 2;
	string    token = 3;
	int64     expires_utc_nano = 4;
	string    hashed_password = 5;
}

message GetUserRequest {
	int64 id = 1;
}

message FindUserRequest {
	oneof search_key {
		string login = 1;
		string token = 2;
	}
}