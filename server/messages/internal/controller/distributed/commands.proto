syntax = "proto3";

option go_package = "github.com/bd878/gallery/server/messages/internal/controller/distributed";

message AppendCommand {
	int64   id = 1;
	int64   user_id = 2;
	repeated int64   file_ids = 3;
	string  text = 4;
	string  name = 5;
	bool    private = 6;
	string  title = 7;
}

message UpdateCommand {
	int64   id = 1;
	int64   user_id = 2;
	repeated int64   file_ids = 3;
	string  text = 4;
	string  name = 5;
	string  title = 6;
}

message DeleteCommand {
	int64   id = 1;
	int64   user_id = 2;
}

message DeleteUserMessagesCommand {
	int64   user_id = 1;
}

message PublishCommand {
	repeated int64   ids = 1;
	int64   user_id = 2;
}

message PrivateCommand {
	repeated int64 ids = 1;
	int64   user_id = 2;
}

message DeleteFileCommand {
	int64  id         = 1;
	int64  user_id    = 3;
}

message AppendTranslationCommand {
	int64  message_id = 1;
	string lang = 2;
	string title = 3;
	string text = 4;
}

message UpdateTranslationCommand {
	int64  message_id = 1;
	string lang = 2;
	optional string title = 3;
	optional string text = 4;
}

message DeleteTranslationCommand {
	int64  message_id = 1;
	string lang = 2;
}
